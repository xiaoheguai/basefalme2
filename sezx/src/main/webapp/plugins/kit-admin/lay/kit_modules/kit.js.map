{"version":3,"sources":["kit.js"],"names":["layui","define","exports","$","jquery","window","utils","localStorage","this","Kit","type","config","version","prototype","set","options","extend","that","init","_private","tabsInit","toolsInit","toggleSide","sideBox","bodyBox","tabsBox","footerBox","attr","animate","width","left","margin-left","html","_win","on","toggle","innerWidth","click","resize","_that","toUpperCase","_layout","append","_body","themeInit","setting","kit","join","find","css","getItem","isString","JSON","parse","themeName","theme","str","_themeUrl","substr","lastIndexOf","hasClass","addClass"],"mappings":";cAAAA,MAAMC,OAAO,CAAC,QAAS,SAAU,SAASC,GACxC,IAAIC,EAAIH,MAAMI,OADhBJ,EAAMC,EAAOI,QACXC,MAAQN,MAAMI,MAAdG,aACWF,MADXE,aAEAD,IAAAA,EAAQN,WAERQ,KAAIC,OAAM,CACRC,KAAKC,QAASH,KAAdI,QAAA,SAIDH,EALDI,UAAAC,IAAA,SAAAC,GAQEZ,OADAA,EAAAa,QAAIC,EADNT,KACEG,OAAAI,GADFP,MAICC,EAJDI,UAAAK,KAAA,WAKAT,EAAII,SAAJL,MACEW,EAASC,aAKV,IANDD,EAAA,CAOAE,UAAIF,WACFE,IAAAA,EAAWlB,EAAA,uBACTmB,EAAIA,GAAAA,QAAe,WACnBA,IAAAA,EAAcnB,EAAA,iBACRoB,EAAUpB,EAAE,iBACZqB,EAAUrB,EAAE,mBACZsB,EAAYtB,EAAA,mBAEhB,OADIuB,EAAcC,KAAA,gBAElB,IAAA,KACEJ,EAAAK,QAAA,CAAAC,MAAA,QACEN,EAAQK,QAAQ,CAAEE,KAAA,MAClBN,EAAQI,QAAQ,CAAEG,cAAlB,MACAN,EAAQG,QAAU,CAAAE,KAAA,MAClBJ,EAAAA,MAAAA,KAAUE,cAAkB,OAC5BzB,EAAQwB,KAAK,gBAAeK,KAA5B,YACAV,MACA,IAAA,MACFC,EAAAK,QAAA,CAAAC,MAAA,UACEN,EAAQK,QAAQ,CAAEE,KAAA,UAClBN,EAAQI,QAAU,CAAAE,KAAQ,UAC1BJ,EAAAA,QAAUE,CAAQG,cAAU,UAC5BN,EAAAA,MAAQG,KAAAA,cAAU,MAClBzB,EAAQwB,KAAK,gBAAbK,KAAA,eAILC,EAxBDC,GAAA,SAAA,WAyBAD,IAAKC,EAAG/B,EAAR,uBAA6BwB,KAAA,eACvBQ,EAAAA,KAAWC,WACXP,EAAQ,MAAZ,OAAiBO,GACjBd,EAAYe,QAEX,KAAAR,GAAA,QAAAM,GACDb,EAAYe,UAGbJ,EATDK,UAWDlB,SAvCY,SAAAmB,GAiGX,GAA2B,SADVA,EAAM5B,OAAfD,KACC8B,cAA0B,CACjC,IAAIC,EAAUtC,EAAE,uBAChBsC,EAAQC,OA1DV,CACA,6DA8CA,gCA3CE,yCALsB,WAOtB,0BAkDF,kDACE,0DACAD,wEACA,cACAE,YACD,WAtGU,gCAwGbC,yCACE,WACA,iCACA,yCACE,WACEC,gEACD,WACD,oDACA,kDACA,iCACA1C,eACA,cACA,wCACEwC,uDACD,kDACF,iCACF,eAxHH,cAyEM,qDAkDFG,kDACJ,iCAhDM,eAkDN,cACA5C,wCAtJF,oDAuGQ,mCACA,4BACA,eACA,cACA,YACA,WACA,UAayB6C,KAAK,KAClBN,EAAQO,KAAK,eACnBhB,KAbY,CAClB,iDACA,+FACA,kCACA,WACA,UAQuBe,KAAK,KAAKE,IAAI,MAAO,UAGhDL,UAAW,WACT,IACIC,EAAUtC,aAAa2C,QADjB,0BAEV,GAAgB,OAAZL,EAAkB,CAChB7C,MAAMM,MAAM6C,SAASN,KACvBA,EAAUO,KAAKC,MAAMR,IAEvB,IAAIS,EAAYT,EAAQU,MACpBC,EAAMrD,EAAE,UAAUwB,KAAK,QACvB8B,EAAYD,EAAIE,OAAO,EAAGF,EAAIG,YAAY,KAAO,GACrDxD,EAAE,UAAUwB,KAAK,OAAQ8B,EAAYH,EAAY,QACjD,IAAIX,EAAQxC,EAAE,QACTwC,EAAMiB,SAAS,aAAeN,IACjCX,EAAMkB,SAAS,aAAeP,MAUtCpD,EAAQ,MAJE,IAAIO","file":"kit.js","sourcesContent":["layui.define(['layer', 'utils'], function(exports) {\n  var $ = layui.jquery,\n    _win = $(window)\n  utils = layui.utils,\n    localStorage = utils.localStorage;\n  var Kit = function() {\n    this.config = {\n      type: 'TABS'\n    };\n    this.version = '1.0.0';\n  };\n  Kit.prototype.set = function(options) {\n    var that = this;\n    $.extend(true, that.config, options);\n    return that;\n  };\n  Kit.prototype.init = function() {\n    _private.tabsInit(this);\n    _private.toolsInit();\n\n    // 初始化皮肤\n    // _private.themeInit();\n  }\n  var _private = {\n    toolsInit: function() {\n      var toggleSide = $('[kit-toggle=\"side\"]');\n      toggleSide.on('click', function() {\n        var sideBox = $('div[kit-side]');\n        var bodyBox = $('div[kit-body]');\n        var tabsBox = $('div[kit-tabs-t]');\n        var footerBox = $('div[kit-footer]');\n        var toggle = toggleSide.attr('data-toggle');\n        switch (toggle) {\n          case 'on':\n            sideBox.animate({ 'width': '0px' });\n            bodyBox.animate({ 'left': '0' });\n            tabsBox.animate({ 'margin-left': '0' });\n            footerBox.animate({ 'left': '0' });\n            $(this).attr('data-toggle', 'off');\n            toggleSide.find('i.layui-icon').html('&#xe65b;');\n            break;\n          case 'off':\n            sideBox.animate({ 'width': '200px' });\n            bodyBox.animate({ 'left': '200px' });\n            footerBox.animate({ 'left': '200px' });\n            tabsBox.animate({ 'margin-left': '200px' });\n            $(this).attr('data-toggle', 'on');\n            toggleSide.find('i.layui-icon').html('&#xe65a;');\n            break;\n        }\n      });\n      _win.on('resize', function() {\n        var toggle = $('[kit-toggle=\"side\"]').attr('data-toggle');\n        var width = this.innerWidth;\n        if (width < 1024 && toggle === 'on') {\n          toggleSide.click();\n        }\n        if (width > 1024 && toggle === 'off') {\n          toggleSide.click();\n        }\n      });\n      _win.resize();\n    },\n    tabsInit: function(_that) {\n      // var layid = new Date().getTime();\n      const tpl_title = [\n        '<div class=\"kit-tabs\" kit-target=\"tabs\" kit-tabs-t=\"true\">',\n        '  <div class=\"kit-tabs-prev\">',\n        '    <i class=\"layui-icon\">&#xe65a;</i>',\n        '  </div>',\n        '  <div class=\"kit-tab\">',\n        '    <ul class=\"kit-tab-title\" style=\"left: 0;\">',\n        '      <li lay-id=\"1\" class=\"layui-this\" data-path=\"#/\">',\n        '        <span title=\"主页\"><i class=\"layui-icon\">&#xe68e;</i> 主页</span>',\n        '      </li>',\n        '    </ul>',\n        '  </div>',\n        '  <div class=\"kit-tabs-next\">',\n        '    <i class=\"layui-icon\">&#xe65b;</i>',\n        '  </div>',\n        '  <div class=\"kit-tabs-tools\">',\n        '    <i class=\"layui-icon\">&#xe61a;</i>',\n        '  </div>',\n        '  <div class=\"kit-tabs-toolsbox layui-anim layui-anim-upbit\">',\n        '    <ul>',\n        '      <li class=\"kit-item\" data-action=\"refresh\">',\n        '        <a href=\"javascript:;\" title=\"刷新当前标签页\">',\n        '          <span>刷新当前标签页</span>',\n        '        </a>',\n        '      </li>',\n        '      <li class=\"kit-item-line\"></li>',\n        '      <li class=\"kit-item\" data-action=\"closeOther\">',\n        '        <a href=\"javascript:;\" title=\"关闭其他标签页\">',\n        '          <span>关闭其他标签页</span>',\n        '        </a>',\n        '      </li>',\n        '      <li class=\"kit-item\" data-action=\"closeAll\">',\n        '        <a href=\"javascript:;\" title=\"关闭所有标签页\">',\n        '          <span>关闭所有标签页</span>',\n        '        </a>',\n        '      </li>',\n        '      <li class=\"kit-item-line\"></li>',\n        '      <li class=\"kit-item layui-this\" lay-id=\"1\">',\n        '        <a href=\"#/\" title=\"首页\">',\n        '          <span>首页</span>',\n        '        </a>',\n        '      </li>',\n        '    </ul>',\n        '  </div>',\n        '</div>',\n      ];\n      const tpl_content = [\n        '<div class=\"kit-tabs-content\" kit-tabs=\"tabs\">',\n        '  <div class=\"kit-tabs-item layui-show\" data-rendered=\"false\" data-path=\"#/\" lay-tab-id=\"1\">',\n        '    <router-view></router-view>',\n        '  </div>',\n        '</div>',\n      ];\n\n      const { type } = _that.config;\n      if (type.toUpperCase() === 'TABS') {\n        var _layout = $('.layui-layout-admin');\n        _layout.append(tpl_title.join(''));\n        var _body = _layout.find('.layui-body');\n        _body.html(tpl_content.join('')).css('top', '90px');\n      }\n    },\n    themeInit: function() {\n      var key = 'KITADMIN_SETTING_THEME';\n      var setting = localStorage.getItem(key);\n      if (setting !== null) {\n        if (layui.utils.isString(setting)) {\n          setting = JSON.parse(setting);\n        }\n        var themeName = setting.theme;\n        var str = $('#theme').attr('href');\n        var _themeUrl = str.substr(0, str.lastIndexOf('/') + 1);\n        $('#theme').attr('href', _themeUrl + themeName + '.css');\n        var _body = $('body');\n        if (!_body.hasClass('kit-theme-' + themeName)) {\n          _body.addClass('kit-theme-' + themeName);\n        }\n      }\n    }\n  };\n\n  var kit = new Kit();\n  //kit.init();\n\n  //输出kit接口\n  exports('kit', kit);\n});"]}