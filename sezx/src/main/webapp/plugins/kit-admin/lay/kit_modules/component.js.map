{"version":3,"sources":["component.js"],"names":["layui","define","exports","layer","jquery","$","classNames","MOD_NAME","nav","NAV","ITEM","Component","this","version","render","modName","filterName","prototype","_private","renderNav","init","on","events","callback","onevent","call","undefined","find","each","navs","_nav","_that","hasChild","_child","length","addClass","children","off","e","SHOW","document","removeClass","parents","THIS","parent","elem","event","filter","component"],"mappings":";cACAA,MAAMC,OAAO,CAAC,SAAU,SAAUC,GADlCF,MAAAG,MAAA,IACAH,EAAMC,MAAQG,OAEVC,EAAUD,YAGRE,EADAC,CACAD,IAAAA,WACFE,KAAK,YACHC,KAAK,aACLC,KAAM,cAFHC,EAAA,WADPC,KAAAC,QAAA,SASEF,EAAKE,UAAUC,OAAf,SAAAC,EAAAC,GAEFL,QAAUM,IAAVN,EACEO,EAAWC,UAAXH,QAEEE,OAAAA,GADF,IAEO,MACLA,EAAQH,UAARC,GAAA,OARJJ,MAeCD,EAZDM,UAAAG,KAAA,WAcAT,OACEC,KAAKE,SADPH,MAEEA,EAAOM,UAAPI,GAAA,SAAAC,EAAAC,GAFF,OAAAvB,MAAAwB,QAAAC,KAAAb,KAAAL,EAAAe,EAAAC,IAMC,IAFDL,EAAA,CAKEC,UAAW,SAAUH,GAArBG,OADaO,IAAAV,EACbG,EAAWV,IAAUO,uBAAYA,EAAA,KAIfW,KAAKrB,EAAeI,MAAMkB,KAAK,WAA/C,IAAIC,EAAOC,EAAKH,MACVI,EAAQ1B,EAAZsB,KAAA,oBAEAK,EAAA,EAAAC,EAAAC,OACIF,IACJD,EAAIC,SAAU,KAAAG,SAAA,SACZJ,EAAMK,SAAS,cAAcD,SAA7B,qBAGFJ,EAAAM,IAAA,SAAAhB,GAAA,QAAA,SAAAiB,GAGE,GAFFP,MAAMM,MAAIC,GAERN,EACAD,EAAIC,SAAU1B,EAAAiC,MACZR,EAAAA,UAAMI,GAAS7B,QAAAA,WACbkC,EAAAA,YAAalC,EAASiC,MACtBR,EAAAA,MAAMU,IAAAA,eADR,CAKAV,EAAAW,QAAApC,EAAAG,KACAsB,KAAMW,EAAQpC,MAGdyB,YAAezB,cACfyB,EAAAI,SAAA7B,EAAAqC,MACAZ,EAAMa,OAAO,kBAIbA,OAAA,eACAH,YAAaV,EAAczB,MAGzBuC,IAAAA,EAAMd,EAAAA,QAAAA,EAAAA,KAAAA,KAAAA,cAET/B,MAAA8C,MAAArB,KAAAb,KAAAL,EAAA,OAAAwC,EAAA,IAAA,CA1BHF,KAAAd,WAmCNiB,EAAA,IAAArC,EACAT,EAAQkB,OAARlB,EAAQ,YAAa8C","file":"component.js","sourcesContent":["// 处理组件的渲染和操作\nlayui.define(['layer'], function (exports) {\n  var layer = layui.layer,\n    $ = layui.jquery;\n\n  var MOD_NAME = 'component';\n  var classNames = {\n    nav: {\n      NAV: '.kit-nav',\n      ITEM: '.kit-item',\n      SHOW: 'layui-show',\n      THIS: 'layui-this'\n    }\n  };\n  var Component = function () {\n    this.version = '1.0.0';\n  };\n  Component.prototype.render = function (modName, filterName) {\n    var that = this;\n    if (modName === undefined) {\n      _private.renderNav(filterName);\n    } else {\n      switch (modName) {\n        case 'nav':\n          _private.renderNav(filterName);\n          break;\n      }\n    }\n    return that;\n  };\n\n  Component.prototype.init = function () {\n    this.render();\n    return this;\n  };\n  Component.prototype.on = function (events, callback) {\n    return layui.onevent.call(this, MOD_NAME, events, callback);\n  }\n\n  var _private = {\n    renderNav: function (filterName) {\n      var _nav = filterName === undefined ?\n        $(classNames.nav.NAV) : $('.kit-nav[lay-filter=' + filterName + ']');\n\n      var navs = _nav.find(classNames.nav.ITEM).each(function () {\n        var _that = $(this);\n        var _child = _that.find('ul.kit-nav-child');\n        // 是否拥有二级\n        var hasChild = _child.length > 0;\n        if (hasChild) {\n          _that.children('a').addClass('child');\n          _child.addClass('layui-anim').addClass('layui-anim-upbit');\n        }\n        // 绑定点击事件\n        _that.off('click').on('click', function (e) {\n          layui.stope(e);\n          // 如果拥有二级则显示二级\n          if (hasChild) {\n            _that.addClass(classNames.nav.SHOW);\n            $(document).on('click', function () {\n              _that.removeClass(classNames.nav.SHOW);\n              $(this).off('click');\n            });\n          } else {\n            // 切换选中状态\n            _that.parents(classNames.nav.NAV)\n              .find(classNames.nav.ITEM)\n              .removeClass('layui-this');\n            _that.addClass(classNames.nav.THIS);\n            // 隐藏二级\n            _that.parent('.kit-nav-child')\n              .parent('.layui-show')\n              .removeClass(classNames.nav.SHOW);\n\n            //获取过滤器名称\n            var filter = _that.parents(classNames.nav.NAV).attr('lay-filter');\n            //执行事件\n            layui.event.call(this, MOD_NAME, 'nav(' + filter + ')', {\n              elem: _that\n            });\n          }\n        });\n      });\n    }\n  };\n\n  var component = new Component();\n  component.init();\n\n  //输出component接口\n  exports('component', component);\n});"]}