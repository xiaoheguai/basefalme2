webpackJsonp([7],{AfW1:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"EvaluationReport",props:{isShow:{type:Boolean,default:!1,required:!0}},data:function(){return{EvaluationReport:this.isShow,reportForm:{score:0,detail:[{title:"理论知识类",percentage:20},{title:"思维逻辑类",percentage:20},{title:"编程操作类",percentage:20}],time:"24:20",nums:"60%",comment:"评价不错哦"}}},watch:{isShow:function(t){return this.EvaluationReport=!!t}},methods:{toggle:function(){this.$emit("toggle",!1)},handlerClose:function(){this.EvaluationReport=!1}}},a={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("el-dialog",{attrs:{visible:s.EvaluationReport,title:"评测报告"},on:{"update:visible":function(t){s.EvaluationReport=t},close:s.toggle}},[a("el-form",{attrs:{model:s.reportForm,"label-width":"100px"}},[a("el-form-item",{attrs:{prop:"score",label:"评测得分"}},[a("span",[s._v(s._s(s.reportForm.score))])]),s._v(" "),a("el-form-item",{attrs:{prop:"detail",label:"得分详情"}},s._l(s.reportForm.detail,function(t,e){return a("div",{key:e},[a("p",[s._v(s._s(t.title))]),s._v(" "),a("el-progress",{attrs:{percentage:t.percentage,"show-text":!0}})],1)})),s._v(" "),a("el-form-item",{attrs:{prop:"time",label:"答题用时"}},[a("span",[s._v(s._s(s.reportForm.time))])]),s._v(" "),a("el-form-item",{attrs:{prop:"nums",label:"超越人数"}},[a("span",[s._v(s._s(s.reportForm.nums))])]),s._v(" "),a("el-form-item",{attrs:{prop:"comment",label:"评价"}},[a("span",[s._v(s._s(s.reportForm.comment))])])],1),s._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:s.handlerClose}},[s._v("确定")])],1)],1)},staticRenderFns:[]};var o=i("VU/8")(s,a,!1,function(t){i("QFzb")},"data-v-98646f08",null).exports,n={name:"Rank",props:{isShow:{type:Boolean,default:!1,required:!0},rankResult:{type:Array}},data:function(){return{rankDialogVisible:this.isShow}},watch:{isShow:function(t){return this.rankDialogVisible=!!t}},methods:{toggle:function(){this.$emit("toggle",!1)}}},l={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("el-dialog",{staticClass:"rank_dialog",attrs:{title:"排行榜",visible:s.rankDialogVisible},on:{"update:visible":function(t){s.rankDialogVisible=t},close:s.toggle}},[a("div",{staticClass:"rank"},s._l(s.rankResult,function(t,e){return a("div",{key:e,staticClass:"rank_list"},[a("span",[s._v(s._s(t.real_name))]),s._v(" "),0===e?a("img",{attrs:{src:i("ntF4"),alt:""}}):s._e(),s._v(" "),1===e?a("img",{attrs:{src:i("/LMT"),alt:""}}):s._e(),s._v(" "),2===e?a("img",{attrs:{src:i("8r+d"),alt:""}}):s._e(),s._v(" "),3===e?a("img",{attrs:{src:i("lpB9"),alt:""}}):s._e(),s._v(" "),4===e?a("img",{attrs:{src:i("w3cn"),alt:""}}):s._e(),s._v(" "),5===e?a("img",{attrs:{src:i("blaQ"),alt:""}}):s._e(),s._v(" "),a("div",{staticClass:"vote"},[a("img",{attrs:{src:i("eSfg"),alt:""}}),s._v(" "),a("span",[s._v(s._s(t.vote)+"票")])])])}))])},staticRenderFns:[]};var r=i("VU/8")(n,l,!1,function(t){i("Km5a")},"data-v-87ac8b62",null).exports,c=i("1l6p"),u=i("xMoL"),d=i("1PCP"),_=i.n(d),h=i("S7rU"),p="ide.codepku.com",v="https",m="studyapi.codepku.com",f={name:"list",data:function(){return{type:"l",selected:!0,classList:[],typeList:[{label:"录播课",value:"l"},{label:"直播课",value:"z"}],EvaluationReport:!1,itemList:{one:"A",two:"A",three:"B",four:"C",five:"C",six:"D",seven:"E",eight:"E",nine:"E"},listIndex:0,evaluation:!1,evaluationVal:{},isAll:!0,oldUrl:v+"://"+m+"/user/personal#lectureCoursesBWBX",rankDialog:!1,rankResult:[],isShowMore:!1,old_course:!1,isLoading:!0,uploadDialogVisible:!1,uploadTips:{},candidateWorks:[],uploadType:0,workIsLoading:!0,checkedWorks:[],uploadUrl:"",currentId:0,selectClass:"",classOptionList:[],evaluateTeacherDialogVisible:!1,comments:"",teacherScore:0,currentOne:null,evaluationForTeacher:{}}},mixins:[h.a],created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;Object(c._17)().then(function(t){e.classList=[],e.isLoading=!1,console.log(t),t&&(e.classList=t.lists,e.old_course=t.old_course,0<e.classList.length&&(e.classList.forEach(function(t){t.lives.forEach(function(t,e){new Date-moment(t.class_time).valueOf()>(60*t.length*1e3||36e5)&&(t.canEvaluateTeacher=!0),t.evaluation_teacher_time&&new Date-moment(t.evaluation_teacher_time).valueOf()<864e5&&(t.canEditTeacherEvaluation=!0),(t.evaluation_teacher||t.evaluation_teacher_score)&&(t.showEdit=!0)}),0===t.finish&&0===t.total?t.percent=0:t.percent=parseInt(t.finish/t.total*100)}),console.log(e.classList)),0===e.classList.length&&(e.type="noL"),e.classList[0].active=!0),e.filterClassList()}).catch(function(){e.isLoading=!1})},selectTime:function(t,e){this.classList.forEach(function(t){t.selected=!1}),t.selected=!0},handlerChangeCourse:function(t){this.selectClass="",console.log("changecourse",this.type,t,this.classList[t]),this.listIndex=t,console.log(this.classList[t].lives),this.filterClassList(),this.classList.forEach(function(t){t.active=!1}),this.classList[t].active=!0,this.$forceUpdate()},filterClassList:function(){var t=this.classList[this.listIndex].lives||[],s={},a=[];t.forEach(function(t,e){s[t.class_name]||(s[t.class_name]=t.class_name,a.push({title:t.class_name,id:t.small_class_id}))}),console.log(a),this.classOptionList=a},handlerWatch:function(t){switch(t.status){case 0:console.log("首次观看");break;case 1:console.log("再次观看");break;case 2:this.EvaluationReport=!0}},toggle:function(t){return this.EvaluationReport=!!t},toggleEval:function(t){return this.evaluation=!!t},handlerCheckEval:function(t){this.evaluationVal=t.evaluate||{},this.evaluationForTeacher={evaluation_teacher:t.evaluation_teacher,evaluation_teacher_score:t.evaluation_teacher_score},this.evaluateDialogVisible=!0,this.evaluation=!0},handlerPlay:function(t){console.log(t);var e=void 0;if("1"==t.course_type)e=v+"://"+p+"/?type=Scratch&id="+t.chapter_id+"&course_id="+t.course_id;else if("2"==t.course_type)e=v+"://"+p+"/?type=Arduino&id="+t.chapter_id+"&course_id="+t.course_id;else if("3"==t.course_type)switch(t.current_lesson_category){case 1:e=this.$router.resolve({path:"/python/document",query:{course_id:t.course_id,current_lesson:t.current_lesson,level:t.course_level,chapter_id:t.chapter_id}}).href;break;case 2:e=this.$router.resolve({path:"/python/class/"+t.course_id,query:{course_id:t.course_id,current_lesson:t.current_lesson,level:t.course_level,chapter_id:t.chapter_id}}).href;break;case 3:e=this.$router.resolve({path:"/python/test",query:{course_id:t.course_id,current_lesson:t.current_lesson,level:t.course_level,chapter_id:t.chapter_id}}).href;break;case 4:e=this.$router.resolve({path:"/python/expand",query:{course_id:t.course_id,current_lesson:t.current_lesson,level:t.course_level,chapter_id:t.chapter_id}}).href;break;case 5:e=this.$router.resolve({path:"/python/audio/"+t.course_id,query:{course_id:t.course_id,current_lesson:t.current_lesson,level:t.course_level,chapter_id:t.chapter_id}}).href}else if("8"==t.course_type)switch(t.current_lesson_category){case 1:e=this.$router.resolve({path:"/noip/noip_document",query:{course_id:t.course_id,current_lesson:t.current_lesson,level:t.course_level,chapter_id:t.chapter_id}}).href;break;case 2:e=this.$router.resolve({path:"/noip/noip_class_first/"+t.course_id,query:{course_id:t.course_id,current_lesson:t.current_lesson,level:t.course_level,chapter_id:t.chapter_id}}).href;break;case 3:e=this.$router.push({path:"/noip/noip_test",query:{course_id:t.course_id,current_lesson:t.current_lesson,level:t.course_level,chapter_id:t.chapter_id}}).href;break;case 4:e=this.$router.resolve({path:"/noip/noip_expand",query:{course_id:t.course_id,current_lesson:t.current_lesson,level:t.course_level,chapter_id:t.chapter_id}}).href}else"10"==t.course_type&&(t.is_code?e=" https://"+p+"/?type=art&id="+t.chapter_id+"&course_id="+t.course_id+"&current_lesson=0":(2==t.current_lesson_category&&(e=this.$router.resolve({path:"/art/class/"+t.course_id,query:{chapter_id:t.chapter_id,level:t.course_level,current_lesson:0}}).href),1==t.current_lesson_category&&(e=this.$router.resolve({path:"/art/document/",query:{course_id:t.course_id,chapter_id:t.chapter_id,level:t.course_level,current_lesson:0}}).href)));e&&window.open(e,"_blank")},handlerWatchReport:function(t){var e="";switch(t.course_type){case 1:e="";break;case 3:e="/python/report";break;case 8:e="/noip/noip_report"}this.$router.push(e)},checkMore:function(){this.isAll=!0,this.isShowMore=!1},handlerSelectTab:function(t){this.oldUrl="l"===t?v+"://"+m+"/user/personal#lectureCoursesBWBX":v+"://"+m+"/user/personal#lectureLivesBWBX"},handlerToOld:function(){window.location.href=this.oldUrl},handlerBackPlay:function(t){Object(c._45)({live_video_id:t.id}).then(function(t){t&&console.log("记录回放")})},toggleRank:function(t){return this.rankDialog=!!t},viewRank:function(t){var e=this;Object(c._10)(t.class_time_id).then(function(t){e.rankResult=t,e.rankDialog=!0}).catch(function(t){console.log(t),e.$message.error("获取排行榜失败")})},referWork:function(e){var s=this;console.log(e),Object(c._12)(e.class_time_id).then(function(t){0<t.length?(console.log(t),s.$router.push({path:"/reference_worklist/"+e.class_time_id+"?class_name="+e.class_name})):s.$message.info("暂无参考作业")}).catch(function(t){s.$message.info("暂无参考作业")})},intoClass:function(t){var e=this.$router.resolve({path:"/small_class_room/?id="+t.small_class_id}).href;window.open(e,"_blank")},handleCommand:function(t){var e=this;console.log(t);var s=t.split("/")[0],a=t.split("/")[1];switch(this.currentId=a,this.uploadUrl=v+"://"+m+"/personal/smallclass/"+a+"/upload",this.uploadDialogVisible=!0,this.workIsLoading=!0,s){case"a":this.uploadTips={title:"我的作品",tips:"",accept:""},this.uploadType=0,this.file_type={type:0},this.fetchCandidateWork(a,{type:0,is_makeup:1});break;case"b":this.uploadTips={title:"我的图片",tips:"只能上传图片文件",accept:".jpg,.png,.jpeg"},this.uploadType=1,this.file_type={type:1},this.fetchCandidateWork(a,{type:1,is_makeup:1}),setTimeout(function(){e.$refs.uploads.clearFiles()},0);break;case"c":this.uploadTips={title:"我的视频",tips:"只能上传mp4类型视频文件",accept:".mp4"},this.uploadType=2,this.file_type={type:2},this.fetchCandidateWork(a,{type:2,is_makeup:1}),setTimeout(function(){e.$refs.uploads.clearFiles()},0)}},confirmSubmit:function(){var e=this;if(this.uploadDialogVisible=!1,0<this.candidateWorks.length){var t=this.checkedWorks.join(";"),s={work_id:t||"",file_id:t||"",type:this.uploadType};this.$message.info("操作中..."),Object(c._34)(this.currentId,s).then(function(t){e.$message.success("操作成功")}).catch(function(t){e.$message.error("操作失败"),console.log(t)})}else this.$message.info("无待传作业")},cancelSubmit:function(){this.uploadDialogVisible=!1},fetchCandidateWork:function(t,e){var s=this;return Object(c._20)(t,e).then(function(t){var a=[];switch(s.uploadType){case 0:t.forEach(function(t,e){var s={id:t.id,title:t.title||"作品",image:t.image,is_homework:t.is_homework};a.push(s)}),s.candidateWorks=a;break;case 1:t.forEach(function(t,e){var s={id:t.id,title:t.title||"图片",image:v+"://"+m+"/"+t.filename,is_homework:t.is_homework};a.push(s)}),s.candidateWorks=a;break;case 2:t.forEach(function(t,e){var s={id:t.id,title:t.title||"视频",image:_.a,is_homework:t.is_homework};a.push(s)}),s.candidateWorks=a}s.getCheckedWorks(t),s.workIsLoading=!1}).catch(function(t){console.log(t)})},getCheckedWorks:function(t){var s=[];t.forEach(function(t,e){t.is_homework&&s.push(t.id)}),this.checkedWorks=s},handleUploadSuccess:function(t){var e=this;console.log(t,"上传成功"),this.loading=!0,this.fetchCandidateWork(this.currentId,{type:this.uploadType}).then(function(){e.checkedWorks.push(t.data.id),console.log(e.checkedWorks)})},handlerDeleteFile:function(t){var e=this;console.log(t),Object(c.n)(this.currentId,t.id).then(function(t){e.fetchCandidateWork(e.currentId,{type:e.uploadType}),e.$message.success("删除文件成功"),console.log(t)}).catch(function(t){e.$message.error(t),console.log(t)})},checkItOut:function(){var t=this;console.log(this.checkedWorks),setTimeout(function(){10==t.checkedWorks.length&&t.$message.info("最多只能提交10个同类型作业哦~")},0)},handlerWatchVideo:function(t){window.open(t.url,"_blank")},handleSelectChange:function(s){var a=void 0;this.classOptionList.forEach(function(t,e){t.id==s&&(a=t.title)});var t=this.$router.resolve({path:"/small_class_room/?id="+s+"&title="+a}).href;window.open(t,"_blank")},evaluateTeacher:function(t){this.evaluateTeacherDialogVisible=!0,this.currentOne=t,this.comments="",console.log(this.teacherScore),console.log(t)},editTeacherEvaluation:function(t){this.evaluateTeacherDialogVisible=!0,this.currentOne=t,this.comments=this.strip(t.evaluation_teacher),this.teacherScore=t.evaluation_teacher_score},submitEvaluation:function(){var e=this;console.log(this.teacherScore,this.comments,this.currentOne),Object(c.s)(this.currentOne.class_time_id,{evaluation_teacher:this.comments,evaluation_teacher_score:this.teacherScore}).then(function(t){e.$message.success("评价成功"),e.evaluateTeacherDialogVisible=!1,e.fetchData(),console.log(t)}).catch(function(t){console.log(t)})},strip:function(t){var e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""}},components:{EvaluationReport:o,Evaluation:u.a,Rank:r},watch:{old_course:function(t){this.$store.commit("hasOldEntrance",t)}},beforeDestroy:function(){this.$store.commit("hasOldEntrance",!1)}},g={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"container"},[0<s.classList.length?a("div",{staticClass:"flex record-main-box"},[a("el-scrollbar",{class:["my-scrollbar",{"no-scrollbar":this.classList.length<=4}]},[a("div",{staticClass:"record-title-box margin-left bg-sky-blue border-radius"},s._l(s.classList,function(t,e){return a("div",{key:e,staticClass:"record-tit flex margin-top-m",class:{"is-active":t.active,show_more:s.isAll}},[a("div",{staticClass:"record-tits bg-white padding-m cursor-pointer border-radius",on:{click:function(t){s.handlerChangeCourse(e)}}},[a("h4",{staticClass:"line-height-30 font-m"},[s._v(s._s(t.title))]),s._v(" "),a("div",{staticClass:"inline-block width-100 line-height-30"},[a("span",{staticClass:"color-gray font-s"},[s._v("已学"+s._s(t.finish)+"/共"+s._s(t.total)+"课")]),s._v(" "),0===Number(t.percent)&&0===t.watched_num?a("div",{staticClass:"inline-block float-right"},[a("img",{attrs:{src:i("EEV2")}}),s._v(" "),a("span",{staticClass:"status-text"},[s._v("未学习")])]):s._e(),s._v(" "),(0<Number(t.percent)||0<t.watched_num)&&Number(t.percent)<100?a("div",{staticClass:"inline-block float-right"},[a("img",{attrs:{src:i("JIVn")}}),s._v(" "),a("span",{staticClass:"status-text doing"},[s._v("学习中")])]):s._e(),s._v(" "),100===Number(t.percent)?a("div",{staticClass:"inline-block float-right"},[a("img",{attrs:{src:i("NugY")}}),s._v(" "),a("span",{staticClass:"status-text finish"},[s._v("已学完")])]):s._e()]),s._v(" "),a("el-progress",{staticClass:"margin-top-s",class:{"not-started":0===Number(t.percent)},attrs:{percentage:Number(t.percent),"stroke-width":20,"text-inside":!0,color:100===Number(t.percent)?"#82cb32":"#ffc000"}})],1)])}))]),s._v(" "),a("div",{staticClass:"flex-item margin-left record-right-box"},[a("div",{staticClass:"bg-sky-blue border-radius",staticStyle:{padding:"15px"}},[a("el-tabs",{staticClass:"custom-tabs",on:{"tab-click":function(t){s.handlerSelectTab(s.type)}},model:{value:s.type,callback:function(t){s.type=t},expression:"type"}},[0<s.classList.length&&s.classList[s.listIndex]?a("el-tab-pane",{attrs:{label:"录播课",name:"l"}}):s._e(),s._v(" "),0<s.classList.length&&s.classList[s.listIndex]?a("el-tab-pane",{attrs:{label:"直播课",name:"z"}}):s._e()],1)],1),s._v(" "),"l"===s.type&&s.classList[s.listIndex]&&0<s.classList[s.listIndex].records.length?a("div",{staticClass:"bg-white border-radius margin-top padding-xl"},s._l(s.classList[s.listIndex]?s.classList[s.listIndex].records:[],function(e,t){return a("div",{key:t,staticClass:"record-main width-100 cursor-pointer margin-top-m",on:{click:function(t){s.handlerWatch(e)}}},[a("div",{staticClass:"inline-block color-sky-blue align-center vertical-top position-relative margin-right-m",staticStyle:{top:"3px"}},[a("h2",[s._v("第"+s._s(t+1)+"课")]),s._v(" "),a("h3",[s._v("（"+s._s(e.lesson_num)+"小节）")])]),s._v(" "),a("div",{staticClass:"record-main-img inline-block"},[a("img",{attrs:{src:e.cover_url&&""!==e.cover_url?e.cover_url:"https://www.dev.codepku.com/scratch/thumb/5b519d0fc3c4f.png",alt:""}})]),s._v(" "),a("div",{staticClass:"record-long-tit margin-left-m inline-block vertical-top font-m text-overflow"},[s._v(s._s(e.title))]),s._v(" "),a("div",{staticClass:"record-operate float-right"},[0<e.lesson_num?a("div",[0===e.watched_num?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){s.handlerPlay(e)}}},[s._v("开始上课")]):0<e.watched_num&&e.watched_num<e.lesson_num?a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(t){s.handlerPlay(e)}}},[s._v("继续学习")]):e.watched_num===e.lesson_num?a("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:function(t){s.handlerPlay(e)}}},[s._v("再看一遍")]):s._e()],1):s._e(),s._v(" "),0===e.lesson_num?a("span",{staticClass:"color-gray font-s"},[s._v("暂无小节")]):s._e()])])})):s._e(),s._v(" "),"l"===s.type&&0===s.classList[s.listIndex].records.length?a("div",{staticClass:"align-center margin-top-xl",staticStyle:{"min-height":"500px","padding-top":"20%","box-sizing":"border-box"}},[a("img",{attrs:{src:i("nn7e"),alt:""}}),s._v(" "),a("p",{staticClass:"margin-top-m",staticStyle:{color:"#6e86a3"}},[s._v(s._s(s.classList[s.listIndex].special_tips&&s.classList[s.listIndex].special_tips.record||"暂无录播课"))])]):s._e(),s._v(" "),"z"===s.type&&s.classList[s.listIndex]&&0<s.classList[s.listIndex].lives.length?a("div",{staticClass:"bg-white border-radius margin-top steps_box"},[a("div",{staticClass:"select_class"},[s._v("选择小班教室：\n          "),a("el-select",{attrs:{size:"mini",placeholder:"请选择"},on:{change:s.handleSelectChange},model:{value:s.selectClass,callback:function(t){s.selectClass=t},expression:"selectClass"}},s._l(s.classOptionList,function(t,e){return a("el-option",{key:e,attrs:{label:t.title,value:t.id}})}))],1),s._v(" "),a("el-steps",{attrs:{direction:"vertical",active:6}},s._l(s.processData(s.classList[s.listIndex].lives),function(e){return s.classList[s.listIndex]?a("el-step",{key:e.id,class:s.itemList.one,attrs:{title:"第一节"}},[a("div",{staticClass:"stepItem",attrs:{slot:"description"},slot:"description"},[a("span",{staticClass:"first-span"},[s._v("第"+s._s(e.no)+"课")]),s._v(" "),a("span",{staticClass:"span-overflow second-span",attrs:{title:e.course_name}},[s._v(s._s(e.course_name))]),s._v(" "),a("span",{staticClass:"span-overflow",attrs:{title:e.class_name}},[s._v(s._s(e.class_name))]),s._v(" "),a("span",{staticClass:"span-overflow",attrs:{title:e.teacher_name}},[s._v(s._s(e.teacher_name))]),s._v(" "),a("span",{staticClass:"span-overflow"},[s._v(s._s(e.class_time))]),s._v(" "),0===e.addend_status?a("span",{staticStyle:{color:"#e60012"}},[s._v("缺勤")]):1===e.addend_status?a("span",{staticStyle:{color:"#22ac38"}},[s._v("已上课")]):2===e.addend_status?a("span",{staticStyle:{color:"#2284f1"}},[s._v("正在上课")]):3===e.addend_status?a("span",{staticStyle:{color:"#2284f1"}},[s._v("即将上课")]):4===e.addend_status?a("span",{staticStyle:{color:"#f39800"}},[s._v("等待上课")]):a("span"),s._v(" "),a("span",{staticClass:"buttons"},[4!==e.addend_status?a("el-popover",{attrs:{trigger:"click",placement:"top",width:"400"}},[s._l(e.video_url,function(e,t){return a("el-button",{key:t,attrs:{type:"text",size:"mini"},on:{click:function(t){s.handlerWatchVideo(e)}}},[s._v("视频"+s._s(t+1))])}),s._v(" "),e.video_url&&0<e.video_url.length?a("el-button",{attrs:{slot:"reference",type:"primary",size:"mini"},on:{click:function(t){s.handlerBackPlay(e)}},slot:"reference"},[s._v("查看回放")]):s._e()],2):s._e(),s._v(" "),(e.evaluate||e.evaluation_teacher||e.evaluation_teacher_score)&&4!==e.addend_status?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){s.handlerCheckEval(e)}}},[s._v("查看评价")]):s._e(),s._v(" "),1===e.show_entrance?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){s.intoClass(e)}}},[s._v("进入班级")]):s._e(),s._v(" "),e.canEvaluateTeacher&&!e.evaluation_teacher_time?a("el-button",{attrs:{type:"primary"},on:{click:function(t){s.evaluateTeacher(e)}}},[s._v("评价老师")]):e.canEditTeacherEvaluation?a("el-button",{attrs:{type:"primary"},on:{click:function(t){s.editTeacherEvaluation(e)}}},[s._v("编辑评价")]):s._e(),s._v(" "),e.can_make_up?a("el-dropdown",{staticClass:"upload_btn",on:{command:s.handleCommand}},[a("span",{staticClass:"el-dropdown-link"},[s._v("补交作业\n                    "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),s._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"a/"+e.class_time_id}},[s._v("作品")]),s._v(" "),a("el-dropdown-item",{attrs:{command:"b/"+e.class_time_id}},[s._v("图片")]),s._v(" "),a("el-dropdown-item",{attrs:{command:"c/"+e.class_time_id}},[s._v("视频")])],1)],1):s._e()],1)]),s._v(" "),a("div",{attrs:{slot:"title"},slot:"title"}),s._v(" "),a("div",{attrs:{slot:"icon"},slot:"icon"})]):s._e()}))],1):s._e(),s._v(" "),"z"===s.type&&0===s.classList[s.listIndex].lives.length?a("div",{staticClass:"align-center margin-top-xl",staticStyle:{"min-height":"500px","padding-top":"20%","box-sizing":"border-box"}},[a("img",{attrs:{src:i("nn7e"),alt:""}}),s._v(" "),a("p",{staticClass:"margin-top-m",staticStyle:{color:"#6e86a3"}},[s._v(s._s(s.classList[s.listIndex].special_tips&&s.classList[s.listIndex].special_tips.live||"暂无直播课"))])]):s._e()])],1):a("div",{directives:[{name:"loading",rawName:"v-loading",value:s.isLoading,expression:"isLoading"}],staticClass:"margin-top-xl",staticStyle:{"min-height":"500px"}},[s._m(0)]),s._v(" "),a("evaluation",{attrs:{"is-show":s.evaluation,data:s.evaluationVal,"teacher-data":s.evaluationForTeacher},on:{"update:isShow":function(t){s.evaluation=t},toggle:s.toggleEval}}),s._v(" "),a("rank",{attrs:{"is-show":s.rankDialog,rankResult:s.rankResult},on:{"update:isShow":function(t){s.rankDialog=t},toggle:s.toggleRank}}),s._v(" "),a("el-dialog",{staticClass:"upload_dialog",attrs:{title:s.uploadTips.title,visible:s.uploadDialogVisible,width:"40%",center:""},on:{"update:visible":function(t){s.uploadDialogVisible=t}}},[0<s.candidateWorks.length||0!==s.uploadType?a("el-checkbox-group",{directives:[{name:"loading",rawName:"v-loading",value:s.workIsLoading,expression:"workIsLoading"}],attrs:{min:0,max:10},model:{value:s.checkedWorks,callback:function(t){s.checkedWorks=t},expression:"checkedWorks"}},[s._l(s.candidateWorks,function(e,t){return a("div",{key:t,staticClass:"outer_box"},[a("el-checkbox",{attrs:{label:e.id},nativeOn:{click:function(t){return s.checkItOut(t)}}},[a("div",{staticStyle:{width:"181px",height:"120px"}},[a("span",{staticClass:"text-overflow",staticStyle:{width:"170px",position:"absolute","z-index":"9",bottom:"0"}},[s._v(s._s(e.title))]),s._v(" "),a("img",{staticStyle:{width:"180px",height:"100px","border-radius":"4px","background-color":"#eee",display:"block"},attrs:{src:e.image,alt:""}})])]),s._v(" "),0!==s.uploadType?a("i",{staticClass:"el-icon el-icon-close del_file",on:{click:function(t){t.stopPropagation(),s.handlerDeleteFile(e)}}}):s._e()],1)}),s._v(" "),a("div",{staticClass:"upload_box"},[0!==s.uploadType?a("el-upload",{ref:"uploads",staticClass:"upload-demo",attrs:{accept:s.uploadTips.accept,data:s.file_type,"on-success":s.handleUploadSuccess,action:s.uploadUrl,"with-credentials":!0,drag:""}},[a("i",{staticClass:"el-icon-upload"}),s._v(" "),a("div",{staticClass:"el-upload__text"},[a("em",[s._v("点击上传")]),s._v(" "),a("p",[s._v(s._s(s.uploadTips.tips))])])]):s._e()],1)],2):0==s.uploadType?a("div",{staticStyle:{"text-align":"center"}},[s._v("暂无作品可提交,请先去我的作品提交作品。")]):s._e(),s._v(" "),a("p",{staticClass:"max-notice"},[s._v("最多提交\n      "),a("span",[s._v("10")]),s._v("个,还可以提交\n      "),a("span",[s._v(s._s(10-s.checkedWorks.length))]),s._v("个。\n    ")]),s._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:s.cancelSubmit}},[s._v("取 消")]),s._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:s.confirmSubmit}},[s._v("确定")])],1)],1),s._v(" "),a("el-dialog",{attrs:{title:"评价老师",visible:s.evaluateTeacherDialogVisible,width:"500px",center:""},on:{"update:visible":function(t){s.evaluateTeacherDialogVisible=t}}},[a("div",{staticClass:"evaluate_box"},[a("p",[s._v("写下你对 "+s._s(s.currentOne&&s.currentOne.teacher_name)+" 老师的评语吧！")]),s._v(" "),a("p",{staticClass:"faces"},[a("span",{class:{is_active1:1==s.teacherScore},on:{click:function(t){s.teacherScore=1}}},[a("i",{staticClass:"iconfont icon-sad"}),s._v("\n          差评\n        ")]),s._v(" "),a("span",{class:{is_active2:2==s.teacherScore},on:{click:function(t){s.teacherScore=2}}},[a("i",{staticClass:"iconfont icon-wubiaoqing"}),s._v("\n          中评\n        ")]),s._v(" "),a("span",{class:{is_active3:3==s.teacherScore},on:{click:function(t){s.teacherScore=3}}},[a("i",{staticClass:"iconfont icon-happy"}),s._v("\n          好评\n        ")])]),s._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:s.comments,expression:"comments"}],staticClass:"comment_box",attrs:{maxlength:"200"},domProps:{value:s.comments},on:{input:function(t){t.target.composing||(s.comments=t.target.value)}}})]),s._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){s.evaluateTeacherDialogVisible=!1}}},[s._v("取 消")]),s._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){s.submitEvaluation()}}},[s._v("确 定")])],1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"absolute_center"},[e("img",{attrs:{src:i("nn7e"),alt:""}}),this._v(" "),e("p",{staticClass:"margin-top-m",staticStyle:{color:"#6e86a3"}},[this._v("暂无专题课")])])}]};var b=i("VU/8")(f,g,!1,function(t){i("a7by")},"data-v-528273f4",null);e.default=b.exports},EEV2:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAkUExURc3NzUxpcc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzf///6pIsO4AAAALdFJOU/8A31SMBqwDW1ym5i4ttwAAAGJJREFUCNdjEBQUtVJgWhwoKMggKGjEAATKIGYJAxi4A5kOECaLIIMwAxQYMgTBmKoMDTAmJ0MCjMnGoABjMgHxbjAAc+FMJAVI2pAMQ7ICyWIk5yA7EsnpgqJtCkwZQA8BAGIfE3jl4KFgAAAAAElFTkSuQmCC"},JIVn:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABRUExURUxpcf+JG/6JHv+KHf+JHv+JHf6JH/6JHv+JHv+IHv+JHv+JHv+IHv6JH/6LIv53Af6FGP6AD//+/P+4eP5vAP/Ilf/37/6hS//Ytv/v4P6VNlw+PHoAAAANdFJOUwASolXFMt/0s34haZXMJUGTAAAAoklEQVQY02XQWQ6FIAwF0ArKoNIy+Rz2v9AnMkji/SInaRsuQMq8CnNHsAlatGnR1ZTpMg6dITnMmozntw27axsGmc35LZYNAyym4G+jdkx9cQTxRQmyog8Rv3gSYcGxzLjr9Fe0iQWsBZHo8IHs/VQw1f+hi8Ef6RiHNm/Qxj3YNH1/6S0Dn1NPfbwvyeCSq+Oyw6UWOrNKqqseJs2UYrrQHzhHEQrApLUXAAAAAElFTkSuQmCC"},Km5a:function(t,e){},NugY:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABLUExURUxpcX3JNIHLMonVKYLLMoPMLoLMMYLOL4TPLYLLMH3LMn7GMYLLMnfHH4DINYXMNn3KKm7DEP///8zqqtjvv+344GbABpPSTd/yybtgz8oAAAAMdFJOUwD65QXxTrFdl9cJidS2DwsAAACpSURBVBjTbdHtFoIgDAbgpXwWgwGa3f+VtkGgndovfc47GROglXZeKe8snKV9+JSf/IhhVnTd3MWG6osRsmrGZWIiTBSiWkHPWMJcy8FZC0aCRGLPWl7ITwZ8+xRSsy1jCmEBJbm95jwtqIa4lyq93RilHfOr7CMn7aafu53GB9k+DR04LPL9Vexz0zAe/uuaUjf7s5D4b03DAOwybLnsfrVGfoex9/b6BlMKEC5QSUd5AAAAAElFTkSuQmCC"},QFzb:function(t,e){},a7by:function(t,e){},t5JH:function(t,e){},xMoL:function(t,e,a){"use strict";var s=a("XLwt"),i=a.n(s),o={name:"Evaluation",props:{isShow:{type:Boolean,default:!1,required:!0},data:{type:Object,default:function(){return{}}},teacherData:{type:Object,default:function(){return{}}}},data:function(){return{tryListenEval:this.isShow}},watch:{isShow:function(t){var e=this;t?(this.$nextTick(function(){e.drawGraph()}),this.tryListenEval=!0):this.tryListenEval=!1}},methods:{toggle:function(){this.$emit("toggle",!1)},drawGraph:function(){var t=i.a.init(this.$refs.echart_evaluate);if(console.log(t),!Array.isArray(this.data))var e=this.data?[Number(this.data.awareness),Number(this.data.skill),Number(this.data.innovation),Number(this.data.communication),Number(this.data.research),Number(this.data.thinking)]:[0,0,0,0,0,0];var s={title:{text:""},legend:{data:[""]},radar:{shape:"circle",startAngle:0,splitNumber:3,name:{textStyle:{color:"#fff",backgroundColor:"rgba(255,255,255,0)",borderRadius:3,padding:[3,5]},formatter:function(t){return t=t.replace(/\S{5}/g,function(t){return console.log(t),t+"\n"})}},indicator:[{name:"数字化时代 公民意识",max:10},{name:"技术操作",max:10},{name:"创新与改革",max:10},{name:"交流与协作",max:10},{name:"研究与分析",max:10},{name:"批判性思维",max:10}],splitArea:{areaStyle:{color:["rgba(255,255,255,0.4)","rgba(255,255,255,0.4)","rgba(255,255,255,0.4)"]}},axisLine:{lineStyle:{color:"rgba(255, 255, 255, 1)"}},splitLine:{lineStyle:{color:"rgba(255, 255, 255, 1)"}}},series:[{name:"",type:"radar",symbol:"none",tooltip:{show:!1},data:[{value:e,name:"课堂评价",areaStyle:{normal:{opacity:.9,color:"rgba(34, 132, 241, 0.48)"}}}],itemStyle:{normal:{color:"rgba(34, 132, 241, 0.82)"}}}]};t.setOption(s)}}},n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{visible:e.tryListenEval,title:"课堂评价",center:""},on:{"update:visible":function(t){e.tryListenEval=t},close:e.toggle}},[s("div",{staticClass:"flex padding-m",staticStyle:{background:"#adc9f4"}},[s("div",{staticClass:"flex-item"},[s("div",{staticClass:"left_echart"},[s("div",{ref:"echart_evaluate",staticClass:"echart_cont",staticStyle:{width:"438px",height:"303px"},attrs:{id:"main"}}),e._v(" "),s("img",{staticClass:"innovation_img",attrs:{src:a("dDDT")}}),e._v(" "),s("img",{staticClass:"technology_img",attrs:{src:a("3kLh")}}),e._v(" "),s("img",{staticClass:"consciousness_img",attrs:{src:a("VPdW")}}),e._v(" "),s("img",{staticClass:"thinking_img",attrs:{src:a("+VhC")}}),e._v(" "),s("img",{staticClass:"research_img",attrs:{src:a("sq75")}}),e._v(" "),s("img",{staticClass:"cooperation_img",attrs:{src:a("wz9c")}})])]),e._v(" "),s("div",{staticClass:"flex-item justify-center align-center"},[s("div",{staticClass:"adverise-box padding-xl margin-top-m margin-right-m"}),e._v(" "),s("img",{staticClass:"margin-top-m",attrs:{src:a("9EVn"),width:"90",height:"155"}})])]),e._v(" "),s("div",{staticClass:"margin-l padding-bottom-l"},[s("div",{staticClass:"border padding-m",staticStyle:{background:"#f6f9fe"}},[s("h3",{staticClass:"color-primary"},[e._v("学到的知识点:")]),e._v(" "),s("p",[e._v(e._s(e.data.knowledge))])]),e._v(" "),s("div",{staticClass:"border padding-m margin-top-m",staticStyle:{background:"#f6f9fe"}},[s("h3",{staticClass:"color-primary"},[e._v("老师评价:")]),e._v(" "),s("p",[e._v(e._s(e.data.reviews))])]),e._v(" "),s("div",{staticClass:"teacher_evaluation border padding-m margin-top-m",staticStyle:{background:"#f6f9fe"}},[s("h3",{staticClass:"evaluation_teacher_title color-primary"},[e._v("你对老师的评价:\n            "),e._v(" "),1==e.teacherData.evaluation_teacher_score?s("span",{staticStyle:{color:"#f15b4b"}},[s("i",{staticClass:"iconfont icon-sad",staticStyle:{"font-size":"26px"}}),e._v("\n                差评\n            ")]):e._e(),e._v(" "),2==e.teacherData.evaluation_teacher_score?s("span",{staticStyle:{color:"#ff6400"}},[s("i",{staticClass:"iconfont icon-wubiaoqing",staticStyle:{"font-size":"26px"}}),e._v("\n                中评\n            ")]):e._e(),e._v(" "),3==e.teacherData.evaluation_teacher_score?s("span",{staticStyle:{color:"#00cd9a"}},[s("i",{staticClass:"iconfont icon-happy",staticStyle:{"font-size":"26px"}}),e._v("\n                好评\n            ")]):e._e()]),e._v(" "),s("p",{staticClass:"evaluation_text text-wrap"},[s("span",{domProps:{innerHTML:e._s(e.teacherData.evaluation_teacher)}})])])])])},staticRenderFns:[]};var l=a("VU/8")(o,n,!1,function(t){a("t5JH")},"data-v-f3f99334",null);e.a=l.exports}});